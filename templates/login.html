<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Login with Loading Splash</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body, html {
      margin: 0; padding: 0; height: 100%;
      background-color: #242424;
      color: white;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow: hidden; /* Hide scroll during splash */
    }

    /* Splash Screen Styles */
    #splash {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: #2a9d8f;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 9999;
      animation: fadeOutSplash 1s ease forwards;
      animation-delay: 3s; /* Starts fade out after 3s */
    }

    /* Animate slogan text */
    #splash h1 {
      font-size: 3rem;
      color: white;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.6; transform: scale(1.05); }
    }

    @keyframes fadeOutSplash {
      to {
        opacity: 0;
        visibility: hidden;
      }
    }

    /* Show login form after splash fades */
    #login-container {
      display: none;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* After splash fades out, show login */
    #splash.fade-out + #login-container {
      display: flex;
      overflow: auto;
    }

    /* Login card styles */
    .login-card {
      background-color: #2c2c2c;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(42, 157, 143, 0.6);
      width: 100%;
      max-width: 400px;
      color: white;
    }

    .form-control {
      background-color: #1f1f1f;
      color: white;
      border: 1px solid #2a9d8f;
    }

    .form-control::placeholder {
      color: #aaa;
    }

    .form-control:focus {
      border-color: #2a9d8f;
      box-shadow: none;
    }
  </style>
</head>
<body>


  <!-- Login Form Container -->
  <div id="login-container">
    <div class="login-card">
      <h2 class="text-center mb-4">Login</h2>
      <form method="POST">
        <div class="mb-3">
          <input type="text" name="username" class="form-control" placeholder="Username" required />
        </div>
        <div class="mb-3">
          <input type="email" name="email" class="form-control" placeholder="Email" required />
        </div>
        <div class="mb-3">
          <input type="password" name="password" class="form-control" placeholder="Password" required />
        </div>
        <div class="d-grid">
          <input type="submit" value="Login" class="btn btn-success" />
        </div>
      </form>
      <p class="mt-3 text-center">
        Don't have an account?
        <a href="{{ url_for('signup') }}" class="text-info">Sign up</a>
      </p>

      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class="text-danger text-center mt-2">{{ messages[0] }}</div>
        {% endif %}
      {% endwith %}
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // When the fadeOutSplash animation ends, hide splash div and show login
    document.getElementById('splash').addEventListener('animationend', () => {
      const splash = document.getElementById('splash');
      splash.style.display = 'none';
      document.getElementById('login-container').style.display = 'flex';
      document.body.style.overflow = 'auto'; // enable scroll if needed
    });
  </script>
</body>
</html>
